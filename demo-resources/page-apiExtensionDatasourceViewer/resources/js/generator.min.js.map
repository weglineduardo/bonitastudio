{"version":3,"sources":["component.hbs.js","js/generator.js","container.hbs.js","js/directives/pbDatepickerUtc.js","formContainer.hbs.js","js/directives/pbModel.js","page.hbs.js","js/directives/pbPropertyValues.js","rows.hbs.js","js/services/bindingsFactory.js","tabsContainer.hbs.js","js/services/modelFactory.js","js/services/widgetNameFactory.js"],"names":[],"mappings":"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","file":"generator.min.js","sourcesContent":["(function(module) {\ntry {\n  module = angular.module('org.bonitasoft.pagebuilder.generator.templates');\n} catch (e) {\n  module = angular.module('org.bonitasoft.pagebuilder.generator.templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('component.hbs.html',\n    '<div class=\"component {{ cssClasses }}\" pb-property-values=\\'{{ reference }}\\'>\\n' +\n    '    <div ng-if=\"!properties.hidden\">{{{ template }}}</div>\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n","(function() {\n  'use strict';\n\n  angular.module('org.bonitasoft.pagebuilder.generator.constants', []);\n  angular.module('org.bonitasoft.pagebuilder.generator.services', []);\n  angular.module('org.bonitasoft.pagebuilder.generator.directives', []);\n  angular.module('org.bonitasoft.pagebuilder.widgets', []);\n\n  angular.module('org.bonitasoft.pagebuilder.generator', [\n    'ngSanitize',\n    'ngMessages',\n    'ngUpload',\n    'org.bonitasoft.pagebuilder.generator.templates',\n    'org.bonitasoft.pagebuilder.generator.constants',\n    'org.bonitasoft.pagebuilder.generator.services',\n    'org.bonitasoft.pagebuilder.generator.directives',\n    'org.bonitasoft.pagebuilder.widgets'\n  ]);\n})();\n\n","(function(module) {\ntry {\n  module = angular.module('org.bonitasoft.pagebuilder.generator.templates');\n} catch (e) {\n  module = angular.module('org.bonitasoft.pagebuilder.generator.templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('container.hbs.html',\n    '<div pb-property-values=\\'{{reference}}\\'>\\n' +\n    '    <div class=\"{{cssClasses}}\"\\n' +\n    '         ng-if=\"!properties.hidden\" {{#repeated}}ng-repeat=\"$item in properties.repeatedCollection track by $index\"\\n' +\n    '         ng-init=\"$collection = properties.repeatedCollection\"{{/repeated}}>\\n' +\n    '        {{{rowsHtml}}}\\n' +\n    '    </div>\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n","(function () {\n  'use strict';\n\n  angular.module('org.bonitasoft.pagebuilder.generator.directives')\n    .directive('pbDatepickerUtc', ['$parse', '$filter', function ($parse, $filter) {\n      function datepickerUtcLink(scope, element, attr, ngModelController) {\n\n          // called with a JavaScript Date object when picked from the datepicker\n          ngModelController.$parsers.push(function (viewValue) {\n            if (angular.isDate(viewValue)) {\n              viewValue.setMinutes(viewValue.getMinutes() - viewValue.getTimezoneOffset());\n            }\n            return viewValue;\n          });\n\n          // called with a 'yyyy-mm-dd' string to format\n          ngModelController.$formatters.push(function (modelValue) {\n            return $filter('date')( modelValue , attr.datepickerPopup);\n          });\n      }\n\n      return  {\n          restrict: 'A',\n          require:  'ngModel',\n          link: datepickerUtcLink\n      };\n\n    }]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('org.bonitasoft.pagebuilder.generator.templates');\n} catch (e) {\n  module = angular.module('org.bonitasoft.pagebuilder.generator.templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('formContainer.hbs.html',\n    '<div pb-property-values=\\'{{ reference }}\\'>\\n' +\n    '    <form class=\"{{ cssClasses }}\" name=\"$form\" method=\"{{ method }}\" action=\"{{ action }}\"\\n' +\n    '          ng-if=\"!properties.hidden\">\\n' +\n    '        {{{content}}}\\n' +\n    '    </form>\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n","(function () {\n  'use strict';\n\n  angular.module('org.bonitasoft.pagebuilder.generator.directives')\n    .directive('pbModel', ['$parse', 'modelFactory', 'bindingsFactory', 'dataModelFactory', 'modelPropertiesFactory', function ($parse, modelFactory, bindingsFactory, dataModelFactory, modelPropertiesFactory) {\n\n      function PbModelCtrl() {}\n      PbModelCtrl.prototype.fill = function (rawData) {\n        var model = modelFactory.create(rawData);\n        this.createGateway = model.createGateway;\n        this.getModel = function() {\n          return model;\n        };\n      };\n\n      function pbModelCompile(tElement, tAttributes) {\n        return {\n          pre: function (scope, element, attrs, pbModelCtrl) {\n            pbModelCtrl.fill(dataModelFactory.get(tAttributes.pbModel));\n            var pbModelProperties = modelPropertiesFactory.get(tAttributes.pbModelProperties);\n            if(pbModelProperties && scope.$parent.pbModelCtrl) {\n              bindingsFactory.create(pbModelProperties, scope.$parent.pbModelCtrl.createGateway(), pbModelCtrl.getModel());\n            }\n          }\n        }\n      }\n\n      return {\n        restrict: 'A',\n        controller: PbModelCtrl,\n        // Expose controller to the scope to mask parent one.\n        // Every time a model is created then it mask its parent\n        // model allowing nested model\n        controllerAs: 'pbModelCtrl',\n        // This is why we use a new scope. To avoid overriding parent modelCtrl.\n        scope: true,\n        compile: pbModelCompile\n      }\n    }]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('org.bonitasoft.pagebuilder.generator.templates');\n} catch (e) {\n  module = angular.module('org.bonitasoft.pagebuilder.generator.templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('page.hbs.html',\n    '<!doctype html>\\n' +\n    '<html xmlns=\"http://www.w3.org/1999/html\">\\n' +\n    '<head>\\n' +\n    '    <title>{{ name }}</title>\\n' +\n    '    <meta charset=\"utf-8\">\\n' +\n    '    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\\n' +\n    '\\n' +\n    '    <link rel=\\'stylesheet\\' href=\\'{{resourceContext}}css/bootstrap.min.css\\'>\\n' +\n    '    <link rel=\\'stylesheet\\' href=\\'{{resourceContext}}css/widget.css\\'>\\n' +\n    '\\n' +\n    '    <link rel=\\'stylesheet\\' href=\\'../theme/theme.css\\'>\\n' +\n    '\\n' +\n    '    {{#each previableassets}}\\n' +\n    '        {{#ifequal type value=\\'CSS\\'}}\\n' +\n    '            <link rel=\"stylesheet\" href=\"{{#assetsrc}}{{/assetsrc}}\">\\n' +\n    '        {{/ifequal}}\\n' +\n    '    {{/each}}\\n' +\n    '\\n' +\n    '    <script src=\"{{resourceContext}}js/vendor.min.js\"></script>\\n' +\n    '    <script src=\"{{resourceContext}}js/generator.min.js\"></script>\\n' +\n    '    <!-- assets attached to the page -->\\n' +\n    '    {{#each previableassets}}\\n' +\n    '        {{#ifequal type value=\\'JAVASCRIPT\\'}}\\n' +\n    '            <script src=\"{{#assetsrc}}{{/assetsrc}}\"></script>\\n' +\n    '        {{/ifequal}}\\n' +\n    '    {{/each}}\\n' +\n    '\\n' +\n    '    {{#if modules}}\\n' +\n    '        <script>\\n' +\n    '            angular.module(\\'org.bonitasoft.pagebuilder.generator\\').requires.push({{{join modules \"\\', \\'\" prefix=\"\\'\" suffix=\"\\'\"}}});\\n' +\n    '        </script>\\n' +\n    '    {{/if}}\\n' +\n    '\\n' +\n    '    <!-- widget need to be injected at runtime -->\\n' +\n    '    {{#each directives}}\\n' +\n    '        <script src=\"{{resourceContext}}{{ this }}\"></script>\\n' +\n    '    {{/each}}\\n' +\n    '\\n' +\n    '</head>\\n' +\n    '<body ng-app=\"org.bonitasoft.pagebuilder.generator\" pb-model=\\'{{ id }}\\'>\\n' +\n    '<div class=\"container-fluid\">\\n' +\n    '    {{{rowsHtml}}}\\n' +\n    '    {{#each factories}}\\n' +\n    '        <script>{{{ this }}}</script>\\n' +\n    '    {{/each}}\\n' +\n    '</div>\\n' +\n    '</body>\\n' +\n    '</html>\\n' +\n    '');\n}]);\n})();\n","(function () {\n  'use strict';\n\n  angular.module('org.bonitasoft.pagebuilder.generator.directives')\n    .directive('pbPropertyValues', ['$parse', 'bindingsFactory', 'propertyValuesFactory', function ($parse, bindingsFactory, propertyValuesFactory) {\n\n      function pbPropertyValuesCompile(tElement, tAttributes) {\n        return {\n          pre: function ($scope, elem, attr, pbModelCtrl) {\n            var context = pbModelCtrl.createGateway();\n            Object.defineProperty(context, '$item', {\n              get: function () {\n                return $scope.$item;\n              },\n              set: function (value) {\n                if ($scope.$collection) {\n                  $scope.$collection[$scope.$index] = value;\n                }\n              },\n              enumerable: true\n            });\n\n            Object.defineProperty(context, '$form', {\n              get: function () {\n                return $scope.$form;\n              },\n              set: function (value) {\n                $scope.$form = value;\n              },\n              enumerable: true\n            });\n\n            var pbPropertyValues = propertyValuesFactory.get(tAttributes.pbPropertyValues);\n            bindingsFactory.create(pbPropertyValues, context, $scope.properties = {});\n            $scope.properties.isBound = function (property) {\n              return !!(pbPropertyValues[property] && pbPropertyValues[property].type === 'data');\n            }\n          }\n        };\n      }\n\n      return {\n        restrict: 'A',\n        scope: true,\n        require: '^pbModel',\n        compile: pbPropertyValuesCompile\n      };\n    }]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('org.bonitasoft.pagebuilder.generator.templates');\n} catch (e) {\n  module = angular.module('org.bonitasoft.pagebuilder.generator.templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('rows.hbs.html',\n    '{{#each rows}}\\n' +\n    '    <div class=\"row\">\\n' +\n    '        {{{this}}}\\n' +\n    '    </div>\\n' +\n    '{{/each}}\\n' +\n    '');\n}]);\n})();\n","(function () {\n  'use strict';\n\n  /**\n   * Factory to create bindings associating properties (also known as properties) to the model.\n   *\n   * @param $interpolate\n   * @param $parse\n   * @param $log\n   * @returns {{create: createBindings}}\n   */\n  function bindingsFactory($interpolate, $parse, $log) {\n\n    /**\n     * Define destination properties allowing to\n     * access the context object as described in properties.\n     *\n     * @param properties - also known as properties. { type: <data | constant>, value: <expression> }\n     * @param context - against which property.value expression will be executed.\n     * @param destination - object where to bind the resulting properties.\n     */\n    function createBindings(properties, context, destination) {\n\n      /**\n       * Allow accessing a data in a two way data binding matter.\n       *\n       * @param property\n       * @returns {{get: Function, set: Function, enumerable: boolean}}\n       */\n      function createDataAccessors(property) {\n        var getter = $parse(property);\n        return {\n          get: function () {\n            return getter(context);\n          },\n          set: function (value) {\n            getter.assign(context, value);\n          },\n          enumerable: true\n        }\n      }\n\n      /**\n       * Allow accessing a constant using angular interpolation feature. Update the value back is not allowed.\n       *\n       * @param value\n       * @param name\n       * @returns {{get: Function, set: Function, enumerable: boolean}}\n       */\n      function createConstantAccessors(value, name) {\n        return {\n          get: function () {\n            return _.isString(value) ? $interpolate(String(value))(context) : value;\n          },\n          set: function () {\n            $log.warn('<', name, '> is a constant therefor it can\\'t be updated. Please bind a data instead.');\n          },\n          enumerable: true\n        }\n      }\n\n      var propertyAccessors = {\n        // We need two way data binding here.\n        'data': createDataAccessors,\n        // All constants are expressions candidate for interpolation.\n        // This is one way expression. We can't set an expression value back.\n        'constant': createConstantAccessors\n      };\n\n      Object.keys(properties).forEach(function (name) {\n        var property = properties[name];\n        Object.defineProperty(destination, name, propertyAccessors[property.type](property.value, name));\n      });\n    }\n\n    return {\n      create: createBindings\n    }\n  }\n  bindingsFactory.$inject = ['$interpolate', '$parse', '$log'];\n\n  angular.module('org.bonitasoft.pagebuilder.generator.services')\n    .factory('bindingsFactory', bindingsFactory);\n})();\n","(function(module) {\ntry {\n  module = angular.module('org.bonitasoft.pagebuilder.generator.templates');\n} catch (e) {\n  module = angular.module('org.bonitasoft.pagebuilder.generator.templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tabsContainer.hbs.html',\n    '<div pb-property-values=\\'{{ reference }}\\'>\\n' +\n    '    <div class=\"{{ cssClasses }}\" ng-if=\"!properties.hidden\">\\n' +\n    '        <tabset>\\n' +\n    '            {{#each tabTemplates}}\\n' +\n    '                <tab heading=\"{{ title }}\">\\n' +\n    '                    {{{ content }}}\\n' +\n    '                </tab>\\n' +\n    '            {{/each}}\\n' +\n    '        </tabset>\\n' +\n    '    </div>\\n' +\n    '</div>\\n' +\n    '');\n}]);\n})();\n","(function () {\n  'use strict';\n\n  function modelFactory($interpolate, $http, $log, $location) {\n\n    function resolveVariable(dataModel, descriptor, name) {\n      dataModel[name] = descriptor.value||undefined;\n    }\n\n    function resolveJson(dataModel, descriptor, name) {\n      dataModel[name] = JSON.parse(descriptor.value);\n    }\n\n    function resolveExpression(dataModel, descriptor, name) {\n\n      // use strict. Avoid pollution of the global object.\n      var expression = new Function('$data', '\"use strict\";' + descriptor.value);\n\n      Object.defineProperty(dataModel, name, {\n        get: function () {\n          try {\n            return expression(dataModel);\n          } catch (e) {\n            $log.warn(\"Error evaluating <\", name, \"> data: \", e.message);\n          }\n        },\n        enumerable: true\n      });\n    }\n\n    function resolveUrl(dataModel, descriptor, name) {\n\n      var url = null;\n      var value;\n\n      Object.defineProperty(dataModel, name, {\n        get: function () {\n          var currentUrl = $interpolate(descriptor.value, false, null, true)(dataModel);\n\n          if (currentUrl !== url && currentUrl !== undefined) {\n            url = currentUrl;\n            $http.get(url).success(function (data) {\n              value = data;\n            });\n          }\n          return value;\n        },\n        enumerable: true\n      });\n    }\n\n    function resolveUrlParameter(dataModel, descriptor, name) {\n      function extractUrlParameter(param, str) {\n        return decodeURI(str.replace(new RegExp(\"^(?:.*[&\\\\?]\" + encodeURI(param).replace(/[\\.\\+\\*]/g, \"\\\\$&\") + \"(?:\\\\=([^&]*))?)?.*$\", \"i\"), \"$1\"));\n      }\n\n      Object.defineProperty(dataModel, name, {\n        get: function () {\n          return extractUrlParameter(descriptor.value || '', $location.absUrl());\n        },\n        enumerable: true\n      });\n    }\n\n    return {\n      create: function (data) {\n        var model = _.transform(data, function (dataModel, descriptor, name) {\n          ({\n            variable: resolveVariable,\n            constant: resolveVariable,\n            json: resolveJson,\n            expression: resolveExpression,\n            url: resolveUrl,\n            urlparameter: resolveUrlParameter\n          }[descriptor.type] || angular.noop)(dataModel, descriptor, name);\n        });\n        model.createGateway = function () {\n          var context = {};\n          Object.keys(model).forEach(function (property) {\n            Object.defineProperty(context, property, {\n              get: function () {\n                return model[property];\n              },\n              set: function (value) {\n                model[property] = value;\n              },\n              enumerable: true\n            });\n          });\n          return context;\n        };\n        return model;\n      }\n    };\n  }\n  modelFactory.$inject = ['$interpolate', '$http', '$log', '$location'];\n\n  angular.module('org.bonitasoft.pagebuilder.generator.services')\n    .factory('modelFactory', modelFactory);\n})();\n","(function () {\n  'use strict';\n\n  function widgetNameFactory() {\n    var widgetsName = {};\n\n    return {\n      getName: getName\n    };\n\n\n    function getName(widget) {\n      if (!widgetsName.hasOwnProperty(widget)) {\n        widgetsName[widget] = -1;\n      }\n\n      widgetsName[widget] += 1 ;\n\n      return widget + widgetsName[widget];\n    }\n  }\n  angular.module('org.bonitasoft.pagebuilder.generator.services')\n    .service('widgetNameFactory', widgetNameFactory);\n})();\n"],"sourceRoot":"/source/"}